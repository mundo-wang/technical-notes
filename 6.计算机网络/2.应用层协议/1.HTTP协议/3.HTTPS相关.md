`HTTP`被认为是不安全的协议，主要原因有两个：

1. 明文传输：`HTTP`以明文形式传递数据，意味着信息在传输过程中可以被任意拦截，导致敏感数据暴露。
2. 无法验证身份：`HTTP`无法验证通信双方的身份，使得中间人攻击（`MITM`）更容易发生。

为了解决这些问题，我们采用了`HTTPS`技术。

`HTTPS`是在`HTTP`基础上添加了`TLS/SSL`加密层，从而确保通信的机密性、完整性和身份验证，如下图：

<img src="image/30908cb43ce642caa37aa80c20d614a0.png" alt="在这里插入图片描述" style="zoom:50%;" />

`HTTPS`协议下，浏览器与服务器需通过`SSL/TLS`握手建立加密通信，流程如下：

1. 客户端发起握手（`ClientHello`）： 浏览器向服务器发送支持的加密算法、随机数等信息。
2. 服务器回应握手（`ServerHello`）： 服务器选择加密算法，并返回包含`SSL`证书的响应。
3. 客户端验证证书： 浏览器检查`SSL`证书的有效性，包括是否可信、是否过期等。
4. 密钥协商： 双方基于选择的加密算法，协商生成用于对称加密的数据密钥。
5. 建立加密通信： 握手完成后，后续的`HTTP`数据传输均通过加密通道进行。

`SSL`（`Secure Sockets Layer`，安全套接层）协议已被`TLS`（`Transport Layer Security`，传输层安全）协议取代，但人们通常仍会使用`SSL`或`SSL/TLS`来泛指这一类协议。`SSL/TLS`协议跨越了传输层和应用层。

`HTTP`与`HTTPS`的特征比较如下：

| 特征     | HTTP                     | HTTPS                                 |
| -------- | ------------------------ | ------------------------------------- |
| 安全性   | 数据以明文传输，不安全。 | 数据经过加密，提供安全连接。          |
| 协议     | 超文本传输协议。         | 安全超文本传输协议。                  |
| 默认端口 | `80`端口。               | `443`端口。                           |
| 连接方式 | 非安全，无加密。         | 安全，使用`SSL/TLS`进行加密。         |
| 性能     | 通常更快。               | 可能引入额外的计算和通信开销。        |
| 成本     | 协议本身无费用。         | 需要获取和维护`SSL`证书，可能有费用。 |
| 配置     | 配置相对简单。           | 配置更为复杂，涉及证书管理。          |
| 缓存     | 通常更易实现缓存。       | `HTTPS`缓存可能更为复杂。             |

`HTTPS`的缺点如下：

1. 性能开销： `HTTPS`会引入额外的计算和通信成本，包括`SSL/TLS`握手、数据加密与解密等。这可能导致页面加载速度变慢，在资源受限的设备或网络环境下尤为明显。
2. 成本负担： 尽管现在有诸如`Let's Encrypt`等免费的证书，但在某些情况下，获取和维护`SSL/TLS`证书依然可能产生费用。此外，企业可能需要投入额外的资源进行安全审计和证书管理。
3. 部署复杂性： 相比`HTTP`，部署`HTTPS`需要更多的配置工作，包括证书的申请、安装、续期以及密钥管理。同时，还需确保选择合适的加密套件，以避免潜在的安全漏洞。
4. 缓存限制： 出于安全考虑，`HTTPS`对代理缓存（如`CDN`）和浏览器缓存有更严格的限制，这可能影响部分资源的缓存效率，从而降低页面的访问速度。

在单体项目中，通常只有一个数据库，所有的数据操作都由同一个线程执行。这种情况下事务管理相对简单：同一线程内持有一致的数据库连接，只要在开始事务时获取一个`tx`对象，然后将所有需要事务控制的增删改操作统一交由该`tx`对象执行，就能够保证这些操作在一次提交或回滚中保持原子性。这样，如果中途出现错误，直接执行回滚即可撤销之前所有操作，从而保证数据一致性。

然而，在分布式系统或微服务架构中，通常每个服务都会有自己的数据库和独立的数据库连接，这样一来，单体项目中通过统一的`tx`对象实现的本地事务在分布式场景下无法直接应用。例如，前端发起一次调用到服务`A`，服务`A`在处理请求时需要调用服务`B`的接口，二者各自都会对本服务的数据库执行增删改操作。假设服务`B`在执行过程中发生错误，可以在自身回滚后，返回`err`给服务`A`，此时服务`A`尚未提交本地事务，可以回滚自身已执行的操作。但是如果服务`A`在调用服务`B`之后发生异常，此时服务`B`已经成功提交了事务，那么服务`A`的回滚无法影响服务`B`已落地的数据，导致系统出现数据不一致。

针对这一问题，业界通常有以下几类解决方案：

我们引入下方这个分布式事务管理器的第三方库：

```
go get github.com/dtm-labs/dtm
```

待办
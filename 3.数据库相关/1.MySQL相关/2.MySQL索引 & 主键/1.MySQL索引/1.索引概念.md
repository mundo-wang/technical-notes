索引是一种用于提高数据库表检索效率的数据结构。通过创建索引，`MySQL`可以直接定位到特定行，而不必扫描整张表，从而显著降低了数据检索的时间复杂度。此外，索引还能减少排序操作的成本，从而降低了`CPU`的消耗。下面讲解非主键字段创建普通索引的方式。

### 一、索引相关命令

#### 1. 创建索引

```sql
create index 索引名 on 表名(字段名);
```

#### 2. 在建表同时创建索引

```mysql
CREATE TABLE 表名 (
    ...
    INDEX 索引名 (字段名)
);
```

#### 3. 查看表中所有索引

```sql
show index from 表名; 
```

#### 4. 删除索引

```sql
drop index 索引名 on 表名;
```

#### 5. 查看表中某一字段是否有索引

```sql
SHOW INDEX FROM 表名 WHERE Column_name = '字段名';
```

如果有索引，会展示具体索引信息；如果无索引，展示空值。

### 二、索引的缺点

1. 索引需要额外的存储空间，增加了数据存储的需求。
2. 索引会减慢表的插入、更新和删除操作，特别是对于频繁更新的表格。
3. 高写入负载可能导致锁竞争问题，影响系统的并发性能。

### 三、`MySQL`为什么使用`B+`树索引

1. `B+`树是一种自平衡树结构，确保在插入和删除操作中，树的高度保持相对稳定。
2. `B+`树能够保持索引数据的有序性，同时叶子节点通过链表连接，极大地提升了范围查询和排序的效率。
3. 由于`B+`树的平衡性和有序性，能够显著减少与磁盘的`IO`操作，从而提高查询的效率。
4. `B+`树的结构非常适合扩展到支持更大规模的数据集，特别适用于大型存储系统的需求。

### 四、`MySQL`的索引越多越好吗？

`MySQL`的索引并非越多越好。以下是索引过多的缺点：

1. 每次对表进行写操作（插入、更新、删除）都需要更新索引，如果索引过多，会显著降低数据插入的性能。
2. 过多的索引会占用更多的磁盘空间，增加存储成本。
3. 索引需要加载到内存中以提高查询性能，但过多的索引可能导致内存占用过高，影响系统的整体性能。
4. 过多的索引可能导致查询性能下降，因为数据库引擎需要评估多个可能的索引以确定最佳执行计划。
5. 随着索引数量增加，数据库的维护成本也会增加，包括备份、恢复、数据迁移等操作的复杂度增加。


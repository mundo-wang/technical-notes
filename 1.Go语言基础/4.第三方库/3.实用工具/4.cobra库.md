`cobra`是`Go`语言生态中常用的命令行程序构建库，可将其视为标准库`flag`的增强版。它提供结构化的命令、子命令、参数与标志管理机制，适合开发复杂的`CLI`工具，`kubelet`、`docker`等命令行工具均基于该库实现。

我们使用下面命令引入该库：

```sh
go get github.com/spf13/cobra
```

如果需要使用`cobra-cli`工具生成项目结构，可执行下面命令，安装命令行工具：

```sh
go install github.com/spf13/cobra-cli@latest
```

安装后，在指定目录执行`cobra-cli init`，快速初始化一个`CLI`项目。该命令会生成一个基础目录结构，如下：

```scss
.
├── cmd
│   └── root.go
└── main.go
```

在`main.go`文件中，仅在`main`函数内调用了`cmd.Execute()`。在`root.go`中的代码内容如下所示：

```go
package cmd

import (
    "os"
    
    "github.com/spf13/cobra"
)

var rootCmd = &cobra.Command{
    Use:   "app",
    Short: "A brief description of your application",
    Long: `A longer description that spans multiple lines and likely contains
examples and usage of using your application. For example:

Cobra is a CLI library for Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.`,
    //Run: func(cmd *cobra.Command, args []string) { },
}

func Execute() {
    err := rootCmd.Execute()
    if err != nil {
       os.Exit(1)
    }
}

func init() {
    rootCmd.Flags().BoolP("toggle", "t", false, "Help message for toggle")
}
```

对于参数`rootCmd`的定义，它是一个`cobra.Command`类型的变量，其内部各字段的含义如下：

- `Use`：默认值为执行`cobra-cli init`命令时所在的目录名，用于定义命令的对外标识以及用法说明模板。
- `Short`：命令的简短描述，通常会在父命令执行`--help`时，展示于其子命令列表中。对于`root`命令而言，由于其不存在父命令，所以它的`Short`一般不会被展示；仅当未设置`Long`时，才会使用`Short`作为`Long`的替代说明。
- `Long`：命令的详细描述，通常会在当前命令执行`--help`时展示，用于帮助用户理解该命令的用途和使用场景。
- `Run`：函数类型字段，用于定义命令执行时实际运行的业务逻辑。其中，参数`cmd`表示当前命令对象，可通过它访问标志`flags`及子命令相关信息；参数`args`表示命令行中用户输入的参数列表，不包括`flags`。

待办
